% --------------------------------------------------------------
% LaTeX Problem Set Template
% By Serena K. Sligh 2019
% --------------------------------------------------------------

\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb,bm,changepage,color,enumitem,float,graphicx,lipsum,listings,multicol,wasysym,xparse}
\usepackage[cache=false]{minted}

% Packages for tikz
\usepackage{tikz}
\usepackage{mathdots}
\usepackage{yhmath}
\usepackage{cancel}
\usepackage{color}
\usepackage{siunitx}
\usepackage{array}
\usepackage{multirow}
%\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{tabularx}
\usepackage{booktabs}
\usetikzlibrary{fadings}

\setlength\parindent{0pt}

\newcommand\ddfrac[2]{\frac{\displaystyle #1}{\displaystyle #2}}
\newcommand{\spacer}{\vspace{5mm}}

% Some math/physics stuff

\newcommand{\angstrom}{\text{\normalfont\AA}}

% Useful commands for quantum mechanics

\newcommand\M[1]{\mathbb{#1}}
\newcommand\C[1]{\mathcal{#1}}

\newcommand\abs[1]{\left|#1\right|}

\newcommand\bra[1]{\left\langle
\begin{aligned}
#1
\end{aligned}
 \right|}

\newcommand\ket[1]{\left|
\begin{aligned}
#1
\end{aligned}
 \right\rangle}

\newcommand\braket[2]{\left\langle \left.
\begin{aligned}
#1
\end{aligned}
 \right|
\begin{aligned}
#2
\end{aligned}
 \right\rangle}

\newcommand\expec[1]{\left\langle
\begin{aligned}
#1
\end{aligned}
 \right\rangle}

\newcommand\norm[1]{\left|
\begin{aligned}
#1
\end{aligned}
\right|}

\newcommand\comm[2]{\left[
\begin{aligned}
#1
\end{aligned}
 ,
\begin{aligned}
#2
\end{aligned}
 \right]}

\newcommand\anticomm[2]{\left\{
\begin{aligned}
#1
\end{aligned}
 ,
\begin{aligned}
#2
\end{aligned}
 \right\}}

% problem/subproblem wrapper

\def\Vhrulefill{\leavevmode\leaders\hrule height 0.7ex depth \dimexpr0.4pt-0.7ex\hfill\kern0pt}

\newcommand{\centerbox}[1]% #1 = text
{\bgroup% use local definitions
  \parskip=0pt
  \sbox0{$\quad$#1$\quad$}
  \dimen0=\dimexpr 0.5\textwidth - 0.5\wd0\relax
  \par\noindent\Vhrulefill\box0\Vhrulefill\par
\egroup}

% \NewDocumentEnvironment{problem}{ O{Problem} m +b }{
% 	\centerbox{\bf{#1 #2}}
%   \spacer
%   #3
%   \spacer
% }

\newcommand\problem[1]{
  \centerbox{\bf{#1}}
  \spacer
}

\NewDocumentEnvironment{subproblems}{ O{\alph} O{1} +b }{
  \begin{enumerate}[
    labelindent=*,
    style=multiline,
    leftmargin=*,
    label=\textbf{(#1*)},
    start=#2]
  \setlength{\itemsep}{1mm}
  #3
  \end{enumerate}\spacer
}

% code wrapper
\newenvironment{code}[1]
{
\VerbatimEnvironment
\begin{minted}[
    mathescape,
    breaklines,
    linenos,
    numbersep=5pt,
    baselinestretch=1.0,
    fontsize=\footnotesize,
    frame=leftline,
    framesep=2mm,
    xleftmargin=21pt
    ]{#1}}
{\end{minted}\spacer}
